---
title: 输入输出IO控制方式
date: 2024-9-23 11:04:01
permalink: /pages/IOkongzhifangshi
categories: 
  - 软考
  - 考前学习
tags: 
  - 软件中级设计师
---
## 1、程序查询方式

程序查询方式（Polling）是一种输入输出设备控制方式，其中CPU定期检查外设的状态，以确定是否需要处理输入或输出操作。

### 工作原理：

1. **CPU轮询**：CPU定期检查U盘的状态，以确定是否有数据需要传输。

   **阻塞操作**：在CPU执行查询时，如果U盘没有准备好，CPU会继续查询，直到U盘准备好。这期间，CPU无法处理其他任务。

   **数据传输**：一旦U盘准备好，CPU会执行数据传输操作，此时CPU才会与U盘进行数据交互。

### 优缺点：

- **优点**：
  - 实现简单，易于理解和编程。
  - 对于简单或速度较慢的设备效果较好。
- **缺点**：
  - 效率低下：CPU可能会浪费大量时间在查询未准备好的设备上，影响其他任务的执行。
  - 延迟：对于需要快速响应的设备，可能导致较高的延迟。

程序查询方式适用于一些实时性要求不高的场合，但在大多数现代系统中

## 2、中断驱动方式

中断驱动方式是一种输入输出设备控制机制，其中设备通过发送中断信号通知CPU，表明它需要服务或数据传输。与程序查询方式不同，这种方式能显著提高系统效率和响应速度。

### 工作原理：

​	**插入U盘**：当你将U盘插入电脑时，U盘会发送一个中断信号给CPU，通知它有数据需要传输。

​	**CPU处理当前任务**：CPU在接收到中断请求后，会完成当前正在执行的指令，然后检查中断请求。

​	**执行中断处理程序**：CPU会调用与U盘相关的中断处理程序，开始处理U盘的数据传输请求。

​	**数据传输**：在中断处理程序中，CPU会通过I/O接口与U盘进行数据传输。

​	**并行操作**：在数据传输的过程中，CPU可以处理其他任务，确保系统的高效运行。

### 优缺点：

- **优点**：
  - **高效性**：CPU不需要周期性查询设备状态，可以执行其他任务，提高系统资源利用率。
  - **快速响应**：设备可以立即通知CPU，提高了对事件的响应速度。
- **缺点**：
  - **复杂性**：需要管理中断向量和中断优先级，设计和实现较为复杂。
  - **中断风暴**：如果设备频繁产生中断，可能导致CPU处理不过来，降低系统性能。

中断驱动方式广泛应用于现代操作系统和实时系统中，特别适合于需要快速响应的设备

## 3、直接存储器方式

直接存储器访问（DMA，Direct Memory Access）是一种数据传输方式，允许外设直接与系统内存交换数据，而不需要经过CPU。这种方式可以提高系统效率，减轻CPU负担。

### 工作原理：

1. **DMA控制器**：系统中有一个DMA控制器，它负责管理数据传输。
2. **请求传输**：外设向DMA控制器发送数据传输请求，指明源地址和目标地址。
3. **传输执行**：DMA控制器接管总线控制权，直接从外设读取数据并写入内存，或者反向操作。
4. **中断通知**：数据传输完成后，DMA控制器可以向CPU发送中断请求，以通知传输完成。

### 优缺点：

- **优点**：
  - **提高效率**：CPU可以在DMA传输期间继续执行其他任务，从而提高整体系统性能。
  - **减少延迟**：对于大数据块传输，DMA通常比CPU驱动的传输快。
- **缺点**：
  - **复杂性**：DMA的实现比传统I/O控制更复杂，需要管理DMA控制器和相关中断。
  - **资源竞争**：DMA和CPU都需要访问系统总线，可能导致资源竞争和延迟。

DMA广泛应用于需要大量数据传输的场合，如硬盘、网络适配器和图形处理等